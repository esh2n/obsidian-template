# Obsidian Git プラグインセットアップガイド

このガイドでは、Obsidianのバージョン管理と同期を実現するための「Obsidian Git」プラグインのインストールと設定方法について詳しく説明します。

## 前提条件

- Obsidianがインストールされていること
- Gitがインストールされていること
- GitHubアカウントが作成済みであること

## 1. Obsidian Git プラグインのインストール

1. Obsidianを起動します
2. 左サイドバーの「設定」（歯車アイコン）をクリックします
3. 左メニューから「サードパーティプラグイン」を選択します
4. 「制限モード」がオンになっている場合は、オフにします
5. 「コミュニティプラグインを閲覧」ボタンをクリックします
6. 検索バーに「obsidian git」と入力します
7. 検索結果から「Obsidian Git」を見つけてインストールをクリックします
8. インストールが完了したら「有効化」ボタンをクリックします

## 2. プラグインの基本設定

1. プラグインをインストールして有効化した後、プラグイン設定（歯車アイコン）をクリックします
2. 以下の推奨設定を行います：

### 自動バックアップ設定
- **Vault備忘録パス**: 自動コミットメッセージを設定（例: "{{date}} のバックアップ"）
- **自動バックアップ**: 有効化
- **自動バックアップ間隔（分）**: 10（10分ごとに自動的にバックアップ）

### 同期設定
- **起動時にプル**: 有効化（Obsidian起動時に最新の変更を取得）
- **自動プル**: 有効化
- **自動プル間隔（分）**: 10（10分ごとに自動的にプル）
- **プル前にバックアップを作成**: 有効化（競合を防ぐため）
- **自動プッシュ**: 有効化（変更を自動的にプッシュ）
- **自動プッシュ間隔（分）**: 10（10分ごとに自動的にプッシュ）

### ステータス表示設定
- **ステータスバーにプッシュ/プルボタンを表示**: 有効化
- **ステータスバーに数字アイコンを表示**: 有効化

## 3. 高度な設定

### Source Control View の設定
- **Source Control View パネルの自動更新間隔（秒）**: 10
- **Source Control View をObsidian起動時に自動的に開く**: お好みで設定

### History View の設定
- **著者と日付を表示**: お好みで設定

### その他の設定
- **差分ビューにソフトラップを使用**: 有効化（長いテキストの表示を改善）
- **差分ビューの行の高さ**: お好みで設定（デフォルト: 16）

## 4. コマンドの使用方法

Obsidian Gitプラグインは、以下の主要コマンドを提供します：

1. **Source Control View を開く**: サイドバーにGitの変更状況を表示
2. **History View を開く**: コミット履歴を表示
3. **変更ファイルを表示**: 変更されたファイルの一覧を表示
4. **全ての変更をコミット**: すべての変更をコミット
5. **ステージされた変更をコミット**: ステージしたファイルのみをコミット
6. **コミットしてプル＆プッシュ**: 変更をコミットし、リモートと同期
7. **プル**: リモートからの変更を取得
8. **プッシュ**: ローカルの変更をリモートに送信

これらのコマンドは、コマンドパレット（Ctrl/Cmd + P）から実行できます。

## 5. モバイル利用時の注意点

モバイル版Obsidianでは、isomorphic-gitを使用してGit操作を行います。これには以下の制限があります：

- SSH認証はサポートされていません
- リポジトリサイズに制限があります
- リベースマージ戦略はサポートされていません
- サブモジュールはサポートされていません

モバイルでの利用について、詳細は[公式ドキュメント](https://publish.obsidian.md/git-doc)を参照してください。

## 6. トラブルシューティング

### 認証エラー
- GitHub個人アクセストークンを使用する
- クレデンシャルマネージャーを確認する

### 同期の競合
- コミット前に常にプルを実行する
- 同じファイルを複数のデバイスで同時に編集しないようにする

### モバイルでクラッシュする場合
- リポジトリサイズを小さく保つ
- 個別のファイルをステージしてからコミットする

## まとめ

Obsidian Gitプラグインを使用することで、Obsidianノートを効率的にバージョン管理し、複数のデバイス間で同期できます。定期的なバックアップと自動同期機能により、データの安全性と最新状態を保つことができます。